{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\devsi\\\\Documents\\\\Reacts\\\\contact\\\\contact-app\\\\src\\\\components\\\\Planets.js\";\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useMutation, useQuery, gql } from '@apollo/client';\nimport { List, Avatar, Skeleton } from 'antd';\nconst CONTACTS = gql`\n{\n    contacts {\n      email\n      fname\n      id\n      lname\n      twitter\n    }\n}\n`;\nconst DELETCONTACT = gql`\nmutation deleteContact($id: Int!) {\n  delete_contacts_by_pk(id: $id) {\n    id\n  }\n}\n`;\nexport default function Planets() {\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(CONTACTS);\n  const [deleteContact] = useMutation(DELETCONTACT);\n  if (loading) return /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 24\n    }\n  }, \"fetching data...\");\n  if (error) return console.error();\n\n  const onFinish = values => {\n    deleteContact({\n      variables: {\n        id: values.user.fname\n      }\n    }).then(() => /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 10\n      }\n    })).catch(e => {});\n  };\n\n  return /*#__PURE__*/React.createElement(List, {\n    itemLayout: \"horizontal\",\n    dataSource: data.contacts,\n    key: data.contacts.id,\n    renderItem: item => /*#__PURE__*/React.createElement(List.Item, {\n      // eslint-disable-next-line jsx-a11y/anchor-is-valid\n      actions: [/*#__PURE__*/React.createElement(\"a\", {\n        key: item.id,\n        href: `/contact/${item.id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 23\n        }\n      }, \"details\"), /*#__PURE__*/React.createElement(\"a\", {\n        key: item.id,\n        onClick: () => this.handleClick(item.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 81\n        }\n      }, \"delete\")],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Skeleton, {\n      avatar: true,\n      title: true,\n      loading: item.loading,\n      active: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(List.Item.Meta, {\n      avatar: /*#__PURE__*/React.createElement(Avatar, {\n        src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }\n      }),\n      title: /*#__PURE__*/React.createElement(\"a\", {\n        href: item.twitter,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 24\n        }\n      }, item.email),\n      description: item.fname + \" \" + item.lname,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 15\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/devsi/Documents/Reacts/contact/contact-app/src/components/Planets.js"],"names":["React","Redirect","useMutation","useQuery","gql","List","Avatar","Skeleton","CONTACTS","DELETCONTACT","Planets","loading","error","data","deleteContact","console","onFinish","values","variables","id","user","fname","then","catch","e","contacts","item","handleClick","twitter","email","lname"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,GAAhC,QAA2C,gBAA3C;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,QAAvB,QAAuC,MAAvC;AAEA,MAAMC,QAAQ,GAAGJ,GAAI;;;;;;;;;;CAArB;AAWA,MAAMK,YAAY,GAAGL,GAAI;;;;;;CAAzB;AAOA,eAAe,SAASM,OAAT,GAAkB;AAC7B,QAAM;AAACC,IAAAA,OAAD;AAAUC,IAAAA,KAAV;AAAiBC,IAAAA;AAAjB,MAA0BV,QAAQ,CAACK,QAAD,CAAxC;AACA,QAAM,CAACM,aAAD,IAAkBZ,WAAW,CAACO,YAAD,CAAnC;AACA,MAAGE,OAAH,EAAY,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACZ,MAAGC,KAAH,EAAU,OAAOG,OAAO,CAACH,KAAR,EAAP;;AACV,QAAMI,QAAQ,GAAGC,MAAM,IAAI;AACzBH,IAAAA,aAAa,CAAC;AAAEI,MAAAA,SAAS,EAAE;AAACC,QAAAA,EAAE,EAAEF,MAAM,CAACG,IAAP,CAAYC;AAAjB;AAAb,KAAD,CAAb,CACCC,IADD,CACM,mBACH,oBAAC,QAAD;AAAW,MAAA,EAAE,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFH,EAIKC,KAJL,CAIYC,CAAD,IAAO,CACb,CALL;AAMD,GAPD;;AAQA,sBACA,oBAAC,IAAD;AACA,IAAA,UAAU,EAAC,YADX;AAEA,IAAA,UAAU,EAAEX,IAAI,CAACY,QAFjB;AAGA,IAAA,GAAG,EAAEZ,IAAI,CAACY,QAAL,CAAcN,EAHnB;AAIA,IAAA,UAAU,EAAEO,IAAI,iBACZ,oBAAC,IAAD,CAAM,IAAN;AACI;AACA,MAAA,OAAO,EAAE,cAAC;AAAG,QAAA,GAAG,EAAEA,IAAI,CAACP,EAAb;AAAiB,QAAA,IAAI,EAAG,YAAWO,IAAI,CAACP,EAAG,EAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAD,eAA2D;AAAG,QAAA,GAAG,EAAEO,IAAI,CAACP,EAAb;AAAiB,QAAA,OAAO,EAAE,MAAM,KAAKQ,WAAL,CAAiBD,IAAI,CAACP,EAAtB,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA3D,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAII,oBAAC,QAAD;AAAU,MAAA,MAAM,MAAhB;AAAiB,MAAA,KAAK,EAAE,IAAxB;AAA8B,MAAA,OAAO,EAAEO,IAAI,CAACf,OAA5C;AAAqD,MAAA,MAAM,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD,CAAM,IAAN,CAAW,IAAX;AACE,MAAA,MAAM,eACJ,oBAAC,MAAD;AAAQ,QAAA,GAAG,EAAC,kEAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ;AAIE,MAAA,KAAK,eAAE;AAAG,QAAA,IAAI,EAAEe,IAAI,CAACE,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAwBF,IAAI,CAACG,KAA7B,CAJT;AAKE,MAAA,WAAW,EAAEH,IAAI,CAACL,KAAL,GAAa,GAAb,GAAmBK,IAAI,CAACI,KALvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAJJ,CALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA;AAuBH","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { useMutation, useQuery, gql } from '@apollo/client';\r\nimport { List, Avatar, Skeleton } from 'antd';\r\n\r\nconst CONTACTS = gql`\r\n{\r\n    contacts {\r\n      email\r\n      fname\r\n      id\r\n      lname\r\n      twitter\r\n    }\r\n}\r\n`;\r\nconst DELETCONTACT = gql`\r\nmutation deleteContact($id: Int!) {\r\n  delete_contacts_by_pk(id: $id) {\r\n    id\r\n  }\r\n}\r\n`;\r\nexport default function Planets(){\r\n    const {loading, error, data } = useQuery(CONTACTS);\r\n    const [deleteContact] = useMutation(DELETCONTACT);\r\n    if(loading) return <p>fetching data...</p>\r\n    if(error) return console.error();\r\n    const onFinish = values => {\r\n      deleteContact({ variables: {id: values.user.fname }})\r\n      .then(() =>\r\n         <Redirect  to=\"/\" />\r\n      )\r\n          .catch((e) => {\r\n          });\r\n    };\r\n    return (\r\n    <List\r\n    itemLayout=\"horizontal\"\r\n    dataSource={data.contacts}\r\n    key={data.contacts.id}\r\n    renderItem={item => (\r\n        <List.Item\r\n            // eslint-disable-next-line jsx-a11y/anchor-is-valid\r\n            actions={[<a key={item.id} href={`/contact/${item.id}`}>details</a>,<a key={item.id} onClick={() => this.handleClick(item.id)} >delete</a>]}\r\n          >\r\n            <Skeleton avatar title={true} loading={item.loading} active>\r\n              <List.Item.Meta\r\n                avatar={\r\n                  <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\r\n                }\r\n                title={<a href={item.twitter}>{item.email}</a>}\r\n                description={item.fname + \" \" + item.lname} \r\n              />\r\n            </Skeleton>\r\n          </List.Item>\r\n    )}\r\n   />\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}